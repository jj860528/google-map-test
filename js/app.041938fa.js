(function(e){function t(t){for(var o,l,s=t[0],i=t[1],c=t[2],p=0,f=[];p<s.length;p++)l=s[p],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&f.push(n[l][0]),n[l]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var i=r[s];0!==n[i]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var o={},n={app:0},a=[];function l(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=o,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(r,o,function(t){return e[t]}.bind(null,o));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/gmap-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},2395:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],l=(r("7c55"),r("2877")),s={},i=Object(l["a"])(s,n,a,!1,null,null,null),c=i.exports,u=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("google-map")],1)},f=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("h2",[e._v("搜索附近餐廳")]),r("label",[r("gmap-autocomplete",{attrs:{options:{fields:["geometry","address_components"]}},on:{place_changed:e.setPlace}}),r("button",{on:{click:e.addMarker}},[e._v("搜索")])],1),r("br")]),r("br"),r("div",{staticClass:"main"},[r("GmapMap",{ref:"map",staticClass:"item",attrs:{center:e.center,zoom:14,options:e.options}},e._l(e.markers,(function(t,o){return r("GmapMarker",{key:o,attrs:{position:t.position},on:{click:function(r){return e.opwindow(t.id)}}},[r("GmapInfoWindow",{attrs:{opened:t.windowStatus}},[r("p",[e._v(e._s(t.name))]),r("p",[e._v(e._s(t.add))])])],1)})),1),r("div",{staticClass:"item"},[r("p",[e._v("列表")]),e._l(e.places,(function(t){return r("ul",{key:t.place_id},[r("li",[e._v(e._s(t.name))])])}))],2)],1)])},d=[],y=(r("c975"),r("d81d"),r("a434"),r("b0c0"),r("ac1f"),r("841c"),r("1923")),g=r("9edc"),h={name:"GoogleMap",data:function(){return{center:{lat:24.9816756,lng:121.4105578},markers:[],places:[],currentPlace:null,Gmap:"",options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1,styles:g}}},computed:{google:y["gmapApi"]},created:function(){var e=this;this.$gmapApiPromiseLazy({}).then((function(){e.autocompleteService=new e.google.maps.places.AutocompleteService,e.geocoderService=new e.google.maps.Geocoder,e.bounds=new e.google.maps.LatLngBounds,console.log("mapOK")}))},mounted:function(){this.geolocate();var e=this;this.$refs.map.$mapPromise.then((function(t){t.panTo(e.center)}))},methods:{setPlace:function(e){this.currentPlace=e},addMarker:function(){var e=this;if(this.currentPlace){var t={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};console.log(this.currentPlace),this.places=[],this.markers=[],this.markers.push({position:t,name:this.currentPlace.name,windowStatus:!1}),this.center=t,this.currentPlace=null,setTimeout((function(){e.search()}),500)}},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}}))},search:function(){var e=this;e.$refs.map.$mapPromise.then((function(t){var r=new e.google.maps.places.PlacesService(t),o={bounds:t.getBounds(),types:["restaurant"],radius:"100"};r.nearbySearch(o,(function(t,r){if(r===e.google.maps.places.PlacesServiceStatus.OK){t.splice(0,1),console.log(t);for(var o=0;o<t.length;o++){var n={lat:t[o].geometry.location.lat(),lng:t[o].geometry.location.lng()};e.markers.push({position:n,name:t[o].name,id:t[o].place_id,add:t[o].vicinity,windowStatus:!1}),e.places.push(t[o])}}}))}))},opwindow:function(e){var t=this,r=t.markers.map((function(e){return e.id})).indexOf(e);t.markers[r].windowStatus?t.markers[r].windowStatus=!1:t.markers[r].windowStatus=!0}}},v=h,b=(r("7843"),Object(l["a"])(v,m,d,!1,null,null,null)),w=b.exports,T={name:"home",data:function(){return{}},components:{GoogleMap:w}},_=T,k=Object(l["a"])(_,p,f,!1,null,null,null),P=k.exports;o["a"].use(u["a"]);var S=[{path:"/",name:"Home",component:P}],x=new u["a"]({mode:"history",base:"/gmap-test/",routes:S}),O=x,j=r("2f62");o["a"].use(j["a"]);var M=new j["a"].Store({state:{},mutations:{},actions:{},modules:{}}),C=r("bc3a"),$=r.n(C),G=r("a7fe"),z=r.n(G);o["a"].use(z.a,$.a),o["a"].config.productionTip=!1,o["a"].use(y,{load:{key:"AIzaSyAQnQX7jMRvt7NdgPMKt-14DZQHSG5_j9A",libraries:"places,drawing,visualization",language:"zh-TW",region:"zh-TW"}}),new o["a"]({router:O,store:M,render:function(e){return e(c)}}).$mount("#app")},7843:function(e,t,r){"use strict";var o=r("bc78"),n=r.n(o);n.a},"7c55":function(e,t,r){"use strict";var o=r("2395"),n=r.n(o);n.a},"9edc":function(e){e.exports=JSON.parse('[{"elementType":"geometry","stylers":[{"color":"#242f3e"}]},{"elementType":"labels.text.fill","stylers":[{"color":"#746855"}]},{"elementType":"labels.text.stroke","stylers":[{"color":"#242f3e"}]},{"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#263c3f"}]},{"featureType":"poi.park","elementType":"labels.text.fill","stylers":[{"color":"#6b9a76"}]},{"featureType":"road","elementType":"geometry","stylers":[{"color":"#38414e"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"color":"#212a37"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#9ca5b3"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#746855"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#1f2835"}]},{"featureType":"road.highway","elementType":"labels.text.fill","stylers":[{"color":"#f3d19c"}]},{"featureType":"transit","elementType":"geometry","stylers":[{"color":"#2f3948"}]},{"featureType":"transit.station","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#17263c"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#515c6d"}]},{"featureType":"water","elementType":"labels.text.stroke","stylers":[{"color":"#17263c"}]}]')},bc78:function(e,t,r){}});
//# sourceMappingURL=app.041938fa.js.map